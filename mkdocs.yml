site_name: Ash Trail Docs
site_description: Complete documentation for Ash Trail — a vaping/smoking tracking app built with Flutter
site_url: https://soupyofficial.github.io/ash_trail/
repo_url: https://github.com/SoupyOfficial/ash_trail
repo_name: SoupyOfficial/ash_trail
edit_uri: edit/main/docs/
copyright: "&copy; 2025–2026 Ash Trail"

docs_dir: docs
site_dir: build/docs-site

theme:
  name: material
  custom_dir: docs/overrides
  language: en
  font:
    text: Inter
    code: JetBrains Mono
  palette:
    - scheme: slate
      primary: indigo
      accent: light blue
      toggle:
        icon: material/weather-sunny
        name: Switch to light mode
    - scheme: default
      primary: indigo
      accent: blue
      toggle:
        icon: material/weather-night
        name: Switch to dark mode
  features:
    - announce.dismiss
    - content.action.edit
    - content.code.annotate
    - content.code.copy
    - content.tabs.link
    - content.tooltips
    - navigation.footer
    - navigation.indexes
    - navigation.instant
    - navigation.instant.progress
    - navigation.path
    - navigation.sections
    - navigation.tabs
    - navigation.tabs.sticky
    - navigation.top
    - navigation.tracking
    - search.highlight
    - search.share
    - search.suggest
    - toc.follow
  icon:
    repo: fontawesome/brands/github
    admonition:
      note: fontawesome/solid/note-sticky
      tip: fontawesome/solid/lightbulb
      warning: fontawesome/solid/triangle-exclamation
      danger: fontawesome/solid/skull-crossbones
      bug: fontawesome/solid/bug
      example: fontawesome/solid/flask
      quote: fontawesome/solid/quote-left

plugins:
  - search:
      separator: '[\s\-,:!=\[\]()"/]+|(?!\b)(?=[A-Z][a-z])|\.(?!\d)|&[lg]t;'
  - mermaid2:
      arguments:
        theme: dark
  - glightbox:
      touchNavigation: true
      loop: false
      effect: zoom
      slide_effect: slide
      width: 100%
      height: auto
      zoomable: true
      draggable: true
  - git-revision-date-localized:
      enable_creation_date: true
      type: timeago
      fallback_to_build_date: true
  - minify:
      minify_html: true

markdown_extensions:
  - abbr
  - admonition
  - attr_list
  - def_list
  - footnotes
  - md_in_html
  - tables
  - toc:
      permalink: true
      toc_depth: 3
  - pymdownx.details
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:mermaid2.fence_mermaid_custom
  - pymdownx.tabbed:
      alternate_style: true
      slugify: !!python/object/apply:pymdownx.slugs.slugify
        kwds:
          case: lower
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
  - pymdownx.highlight:
      anchor_linenums: true
      line_spans: __span
      pygments_lang_class: true
  - pymdownx.inlinehilite
  - pymdownx.snippets
  - pymdownx.mark
  - pymdownx.keys
  - pymdownx.smartsymbols
  - pymdownx.critic
  - pymdownx.caret
  - pymdownx.tilde
  - pymdownx.tasklist:
      custom_checkbox: true

nav:
  - Home: README.md

  - UI Reference:
      - Overview: ui/README.md
      - Key Concepts & Glossary: ui/glossary.md
      - Architecture & Data Flow: ui/architecture.md
      - Feature Catalog: ui/features.md
      - Screen Reference: ui/screens.md
      - Widget Catalog:
          - Overview: ui/widgets/README.md
          - Time-Based: ui/widgets/time-based.md
          - Duration-Based: ui/widgets/duration-based.md
          - Count-Based: ui/widgets/count-based.md
          - Comparison: ui/widgets/comparison.md
          - Pattern: ui/widgets/pattern.md
          - Secondary Data: ui/widgets/secondary-data.md
          - Action: ui/widgets/action.md
          - Customization: ui/widgets/customization.md
      - Logging & Entry Fields: ui/logging.md
      - Trend Indicators: ui/trends.md
      - Data, Sync & Export: ui/data-sync.md
      - Developer Guide: ui/developer-guide.md
      - Troubleshooting & FAQ: ui/troubleshooting.md
      - Quick Reference: ui/quick-reference.md

  - Architecture:
      - Overview: architecture/ARCHITECTURE.md
      - Crash Analysis & Fix: architecture/CRASH_ANALYSIS_AND_FIX.md
      - iOS Crash Fix: architecture/IOS_CRASH_FIX.md
      - Implementation Status: architecture/IMPLEMENTATION_COMPLETE.md
      - Verification: architecture/VERIFICATION_COMPLETE.md

  - Features:
      - Geolocation:
          - Features Overview: features/GEOLOCATION_FEATURES.md
          - Integration Guide: features/GEOLOCATION_INTEGRATION.md
      - Legacy Data:
          - Architecture: features/LEGACY_DATA_ARCHITECTURE.md
          - Implementation: features/LEGACY_DATA_IMPLEMENTATION.md
          - Completion: features/LEGACY_DATA_COMPLETION.md
          - Quick Reference: features/LEGACY_DATA_QUICK_REFERENCE.md
          - Index: features/LEGACY_DATA_INDEX.md
          - Support: features/LEGACY_DATA_SUPPORT.md
          - CLI Verification: features/LEGACY_DATA_CLI_VERIFICATION.md

  - Setup:
      - Authentication Setup: setup/AUTHENTICATION_SETUP.md
      - Authentication Config: setup/AUTHENTICATION_CONFIG.md
      - Account CRUD Guide: setup/ACCOUNT_CRUD_GUIDE.md
      - Account Mapping: setup/ACCOUNT_MAPPING_UPDATE.md
      - Location Collection: setup/LOCATION_COLLECTION_SETUP.md
      - Location Permissions: setup/LOCATION_PERMISSIONS_SETUP.md
      - Google Maps API Key: setup/GOOGLE_MAPS_API_KEY_SETUP.md
      - iOS Simulator Setup: setup/iOS_SIMULATOR_SETUP.md

  - Testing:
      - Summary: testing/TESTING_SUMMARY.md
      - Integration Tests: testing/INTEGRATION_TESTS.md
      - E2E Testing Guide: testing/E2E_TESTING_GUIDE.md
      - Cross-Platform: testing/TESTING_CROSS_PLATFORM.md
      - Coverage Guide: testing/COVERAGE_GUIDE.md
      - Test Run Results: testing/TEST_RUN_SUMMARY.md
      - Widget Tests: testing/WIDGET_TESTS_SUMMARY.md
      - CRUD Coverage: testing/CRUD_TEST_COVERAGE.md
      - Multi-User Sync: testing/MULTI_USER_SYNC_TEST_COVERAGE.md
      - Firestore Validation: testing/FIRESTORE_DATA_VALIDATION_REPORT.md
      - Patrol Test IDs: testing/PATROL_TEST_IDS.md

  - Deployment:
      - TestFlight Deployment: deployment/TESTFLIGHT_DEPLOYMENT.md
      - GitHub + TestFlight Setup: deployment/GITHUB_TESTFLIGHT_SETUP.md
      - Gmail Login Test Guide: deployment/GMAIL_LOGIN_TEST_GUIDE.md
      - Gmail Login Ready: deployment/GMAIL_LOGIN_TEST_READY.md
      - TestFlight Upload Guide: testflight_upload_guide.md
      - TestFlight CI Fixes: TESTFLIGHT_CI_FIXES.md
      - iOS Deployment Target Fix: IOS_DEPLOYMENT_TARGET_FIX.md

  - Design & Planning:
      - Design System: DESIGN_SYSTEM.md
      - Feature Plans:
          - Decision Matrix: FEATURE_PLANS_DECISION_MATRIX.md
          - "Plan A: Health Focused": FEATURE_PLAN_A_HEALTH_FOCUSED.md
          - "Plan B: Pattern Analysis": FEATURE_PLAN_B_PATTERN_ANALYSIS.md
          - "Plan C: Visual Dashboard": FEATURE_PLAN_C_VISUAL_DASHBOARD.md
          - "Plan D: Gamification": FEATURE_PLAN_D_GAMIFICATION.md
      - Multi-Account:
          - Architecture: MULTI_ACCOUNT_ARCHITECTURE.md
          - Implementation: MULTI_ACCOUNT_IMPLEMENTATION.md
      - Figma:
          - Quick Start: FIGMA_QUICK_START.md
          - Setup: FIGMA_SETUP.md
          - Workflow: FIGMA_WORKFLOW.md
          - Summary: FIGMA_WORKFLOW_SUMMARY.md
          - Test Results: FIGMA_TEST_RESULTS.md

  - Code Reference:
      - Overview: lib-docs/main.md
      - Logging:
          - AppLogger: lib-docs/logging/app_logger.md
      - Models:
          - Account: lib-docs/models/account.md
          - DailyRollup: lib-docs/models/daily_rollup.md
          - Enums: lib-docs/models/enums.md
          - HomeWidgetConfig: lib-docs/models/home_widget_config.md
          - LogRecord: lib-docs/models/log_record.md
          - ModelConverters: lib-docs/models/model_converters.md
          - RangeQuerySpec: lib-docs/models/range_query_spec.md
          - SyncMetadata: lib-docs/models/sync_metadata.md
          - UserAccount: lib-docs/models/user_account.md
          - WebModels: lib-docs/models/web_models.md
      - Navigation:
          - MainNavigation: lib-docs/navigation/main_navigation.md
      - Providers:
          - AccountProvider: lib-docs/providers/account_provider.md
          - AuthProvider: lib-docs/providers/auth_provider.md
          - HomeWidgetConfigProvider: lib-docs/providers/home_widget_config_provider.md
          - LogRecordProvider: lib-docs/providers/log_record_provider.md
          - SyncProvider: lib-docs/providers/sync_provider.md
      - Repositories:
          - AccountRepository: lib-docs/repositories/account_repository.md
          - AccountRepositoryHive: lib-docs/repositories/account_repository_hive.md
          - LogRecordRepository: lib-docs/repositories/log_record_repository.md
          - LogRecordRepositoryHive: lib-docs/repositories/log_record_repository_hive.md
      - Screens:
          - AccountsScreen: lib-docs/screens/accounts_screen.md
          - AnalyticsScreen: lib-docs/screens/analytics_screen.md
          - ExportScreen: lib-docs/screens/export_screen.md
          - HistoryScreen: lib-docs/screens/history_screen.md
          - HomeScreen: lib-docs/screens/home_screen.md
          - LoggingScreen: lib-docs/screens/logging_screen.md
          - LoginScreen: lib-docs/screens/login_screen.md
          - MultiAccountDiagnosticsScreen: lib-docs/screens/multi_account_diagnostics_screen.md
          - ProfileScreen: lib-docs/screens/profile_screen.md
          - SignupScreen: lib-docs/screens/signup_screen.md

  - Guides:
      - Edit Log Enhancement: EDIT_LOG_ENHANCEMENT.md
      - Logging Conventions: LOGGING_CONVENTIONS.md
      - Testing Strategy: TESTING_STRATEGY.md
      - Test Improvements: TEST_IMPROVEMENTS.md
      - User Story Tests: USER_STORY_TESTS.md
      - Widget Test Docs: WIDGET_TEST_DOCUMENTATION.md
      - Capture Screenshots: CAPTURE_SCREENSHOTS.md
      - Screenshot Verification: SCREENSHOT_VERIFICATION.md
      - Screenshot Test Results: SCREENSHOT_TEST_RESULTS.md

  - Project Plan:
      - Table of Contents: plan/0. AshTrail - Table of Contents.md
      - Project Overview: plan/1. Project Overview.md
      - Technology Stack: plan/2. Technology Stack.md
      - Application Structure: plan/3. Application Structure.md
      - Domain Model: plan/4. Domain Model.md
      - Logging System: plan/5. Logging System.md
      - State Management: plan/6. State Management.md
      - Data Persistence: plan/7. Data Persistence.md
      - Authentication & Accounts: plan/8. Authentication & Accounts.md
      - UI Architecture: plan/9. UI Architecture.md
      - Analytics & Aggregation: plan/10. Analytics & Aggregation.md
      - Error Handling & Observability: plan/11. Error Handling & Observability.md
      - Configuration & Environments: plan/12. Configuration & Environments.md
      - Testing Strategy: plan/13. Testing Strategy.md
      - Deployment & Distribution: plan/14. Deployment & Distribution.md
      - Assumptions & Open Questions: plan/15. Assumptions & Open Questions.md
      - Future Extensions: plan/16. Future Extensions.md
      - Performance & Scalability: plan/17. Performance & Scalability.md
      - Data Integrity & Consistency: plan/18. Data Integrity & Consistency.md
      - Time, Locale & Timezone: plan/19. Time, Locale, and Timezone Handling.md
      - Security Model: plan/20. Security Model.md
      - Permissions & OS Integration: plan/21. Permissions & OS Integration.md
      - Notifications & Reminders: plan/22. Notifications & Reminders.md
      - Import & Export: plan/23. Import - Export.md
      - Developer Workflow: plan/24. Developer Workflow.md
      - Coding Standards: plan/25. Coding Standards.md
      - Documentation Conventions: plan/26. Documentation Conventions.md
      - Feature Flags: plan/27. Feature Flags & Experimental Work.md
      - Migration & Compatibility: plan/28. Migration & Backward Compatibility.md
      - Observability & Diagnostics: plan/29. Observability & Diagnostics.md
      - Decommissioning & Deletion: plan/30. Decommissioning & Data Deletion.md

exclude_docs: |
  plan-review/
  overrides/
  *.py
  *.txt

extra:
  social:
    - icon: fontawesome/brands/github
      link: https://github.com/SoupyOfficial/ash_trail
  generator: false

extra_css:
  - stylesheets/extra.css
